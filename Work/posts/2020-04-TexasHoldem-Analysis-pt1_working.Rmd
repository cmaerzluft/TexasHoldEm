---
title: Introduction to Texas Hold'em
author: Christopher Maerzluft
date: '2020-04-08'
slug: poker-analysis-pt1
categories: []
tags: ['Texas Holdem', 'Introduction', 'Analysis', 'Descriptive Statistics']
header:
  caption: ''
  image: ''
---

```{r setup, include = FALSE}
# Location
if (any(grepl("Blog.Rproj", list.files()))) {
  pathtofile <- "content/post/post-topics/TexasHoldEm/Work/results"
} else {
  pathtofile <- "Work/results"
}

load(sprintf("%s/2020-01-TexasHoldem-Analysis-pt1.Rdata", pathtofile))
```

## Poker! I Barely Know her!

I recently listened to a story on the podcast for [Moth Radio Hour](https://themoth.org/stories/the-big-things-you-dont-do). The speaker, [Annie Duke](https://en.wikipedia.org/wiki/Annie_Duke), described how she came to be in a high stakes game of Texas Hold'em with nine of the other world's best poker players. If you aren't familiar with the Texas Hold'em, you can find a nice summary of the game and its rules [here](http://www.wsop.com/poker-games/texas-holdem/). As a part of her story she mentioned that she first started playing poker when her [brother](https://en.wikipedia.org/wiki/Howard_Lederer), one of the other nine players at the high stakes game, encouraged her to start playing professionally. When she expressed hesitation, he wrote on a small cocktail napkin a list of hands which she should focus on as she began to play. He said, "stick to these hands and you will be fine." Soon she became one of the top poker players in the world - good enough to get an invite to this very exclusive match. If you want to hear more about the tournament and how she was able to overcome her self-doubt, I recommend you listen to the 15 minute episode. 

Casino games are a great way of introducing people to basic statistical concepts such as probability but poker allows us to explore data science in ways that other games can't. Anyone who is the least bit familiar with poker will tell you that the game requires skill. So the challenge for this series then is to learn through data science methodology the skills necessary to be *good* at poker. This is only part 1 of the series and I'm not sure how long it will go or even where it will ultimately go so for now, I am just going to start where Annie did: If am going to begin playing Texas Hold'em, what are the best hands to start out with?

![](https://media1.tenor.com/images/00b478164d5616cd56bcedf8ed5a1a3d/tenor.gif)

## Start at the Beginning

There are three ways to approach this question. The first is to break out the good ol' [combinatorics](http://www.numericana.com/answer/counting.htm#stud7) and attempt to calculate the probabilities by hand but that honestly sounds horrible. The second option would be to collect real [data](https://poker.stackexchange.com/questions/881/publicly-available-poker-stats). However, the nature of poker has created an environment where complete data costs money to get access and free data is censored in ways that aren't ideal for starting out. This just leaves the last option which is only available to us due to the simplicity of poker - simulate the data we need. Eventually we will need to work with the real data as we can't simulate every aspect of poker, such as betting strategy, without real data but I think that building a simulation of Texas Hold'em will help inform our analysis of the real data which will in turn feed back into  our simulation. I will save a post about how to simulate this data for a future post.

One of the great things about simulating data is that we can control the data in nearly every way imaginable. Obviously, we can control how much data we will create, and we are only contrained by our computer's memory limitations and our patience. Sample size is very important when dealing with data - especially data that has such a large number of potential outcomes (There are 133,784,560 possible hand combinations in 7 card poker). For this post we will generate one million rounds of poker. We can also control how many players there are in each round. Later on we will find that the number of players will impact how the likelihood of our outcomes. Generally speaking the number of players in a game can range from two (Heads-up Poker) up to ten but after a short [Google](https://www.pokernews.com/news/2018/12/the-perfect-poker-tournament-part-1-how-many-players-32793.htm), it seems that eight is more of the ideal starting number of players. For this analysis, unless stated otherwise, we will use eight players. At one million rounds and eight players we will ultimately have eight million unique hands of poker to explore.

![](https://media.tenor.com/images/b4bf5e9b067a1bc9da46453eb0d67ac5/tenor.gif)

## Getting a Baseline

Having created our dataset, a good first step is to make sure our data aligns with the expected results from the theoretical probabilistic model. The next table shows the [expected distribution](https://en.wikipedia.org/wiki/Poker_probability#Frequency_of_7-card_poker_hands) of final hands verse the estimated distribution from our simulated data. If the Expected results and Estimated results were significantly different we would worry that either our coding was wrong or that we weren't working with enough data. The former would require us to find the error in the code but the latter we can deal with (and will explore in a future post). Fortunately, the results line up really well with our eight millions hands of poker.

| Hand            | Expected | Estimated |
| --------------- | -------- | --------- |
| Straight Flush  | 0.0311%  | `r t1[1]` |
| Four of a Kind  | 0.168%   | `r t1[2]` |
| Full House      | 2.60%    | `r t1[3]` |
| Flush           | 3.03%    | `r t1[4]` |
| Straight        | 4.62%    | `r t1[5]` |
| Three of a Kind | 4.83%    | `r t1[6]` |
| Two Pair        | 23.5%    | `r t1[7]` |
| One Pair        | 43.8%    | `r t1[8]` |
| High Card       | 17.4%    | `r t1[9]` |

These are how often these hands are created (assuming people all stay in)
but how often do these hands win overall and given the person has them
Now is time to show differences in results between the different number of players

This also raises the question of: if I have a good hand what am I mostly likely to lose to?

These all help us think of the end strategy but we still haven't answered the question of where to start

What should we expect to look for (suited, paired, close together)

distribution of pocket cards is easy to calculate so not wasting time on plot

which combos lead to win most often (8 players)

which combos lead to win most often 2-10 player plot

conclusion


